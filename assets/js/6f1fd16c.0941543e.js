"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2154],{28453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>c});var i=n(96540);const t={},a=i.createContext(t);function o(e){const s=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(a.Provider,{value:s},e.children)}},86550:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>r,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var i=n(74848),t=n(28453);const a={title:"Usages & Uses"},o=void 0,c={id:"Usages-and-Uses",title:"Usages & Uses",description:"Defining how libraries of code are to be used is a crucial piece of any build system. Premake exposes this functionality via the usage and uses APIs. A usage specifies a reusable configuration scope which can be later consumed by uses.",source:"@site/docs/Usages-and-Uses.md",sourceDirName:".",slug:"/Usages-and-Uses",permalink:"/docs/Usages-and-Uses",draft:!1,unlisted:!1,editUrl:"https://github.com/premake/premake-core/edit/master/website/docs/Usages-and-Uses.md",tags:[],version:"current",lastUpdatedBy:"Nicholaus Clark",lastUpdatedAt:1741105982e3,frontMatter:{title:"Usages & Uses"},sidebar:"docs",previous:{title:"Build Settings",permalink:"/docs/Build-Settings"},next:{title:"Command Line Arguments",permalink:"/docs/Command-Line-Arguments"}},r={},l=[{value:"See Also",id:"see-also",level:3}];function d(e){const s={a:"a",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Defining how libraries of code are to be used is a crucial piece of any build system. Premake exposes this functionality via the ",(0,i.jsx)(s.code,{children:"usage"})," and ",(0,i.jsx)(s.code,{children:"uses"})," APIs. A ",(0,i.jsx)(s.code,{children:"usage"})," specifies a reusable configuration scope which can be later consumed by ",(0,i.jsx)(s.code,{children:"uses"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Unlike other scopes, usages do not inherit their properties from their parent scopes. This is to ensure that consumers only receive the configuration explicitly specified by the usage block."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:'project "A"\n  defines { "A_PRIVATE_DEF" }\n  usage "PUBLIC"\n    defines { "A_PUBLIC_DEF" }\n\nproject "B"\n    uses { "A" }\n    -- B will now contain the defines { "A_PUBLIC_DEF" }\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Usage containers can be provided with any name, however Premake provides three names of power. These words of power allow specifying the name of a project in the ",(0,i.jsx)(s.code,{children:"uses"})," field rather than having to specify the exact name of the usage block."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"PRIVATE"})," specifies a usage block that will be applied only to the project defining the usage. This is the default behavior of properties defined outside of usage blocks in Premake."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"INTERFACE"})," specifies a usage block that will be applied only to any projects consuming the usage."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"PUBLIC"})," specifies a usage that will be applied to both the project defining the usage and any projects consuming the usage."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Usages are not applied recursively by default. This is to match the existing Premake behaviors where everything is private by default. In order to apply usages recursively, usage blocks can be utilized to specify which usages should be propagated to the children. This chain can be applied indefinitely by specifying the usages that should be applied in each project's ",(0,i.jsx)(s.code,{children:"PUBLIC"})," block."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:'project "A"\n  usage "PUBLIC"\n    defines { "A_PUBLIC_DEF" }\n\nproject "B"\n  usage "PUBLIC"\n    uses { "A" }\n    defines { "B_PUBLIC_DEF" }\n\nproject "C"\n  -- C will now contain the defines { "A_PUBLIC_DEF", "B_PUBLIC_DEF" }\n  uses { "B" }\n'})}),"\n",(0,i.jsx)(s.p,{children:"Similarly, for forcing consumers to link or depend on your project, we can specify a usage block as follows:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:'project "MyLib"\n  -- Force consumers to link MyLib, but do not force MyLib to link against it\n  usage "INTERFACE"\n    links { "MyLib" }\n\nproject "MyExe"\n  -- MyExe will now link against MyLib\n  uses { "MyLib" }\n'})}),"\n",(0,i.jsxs)(s.p,{children:["It's worth noting that ",(0,i.jsx)(s.code,{children:"usage"})," blocks do not need to be named with a name of power. They can be specified and used as follows:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-lua",children:'project "A"\n  usage "MyCustomUsageName"\n    defines { "HelloWorld" }\n\nproject "B"\n  uses { "MyCustomUsageName" }\n'})}),"\n",(0,i.jsx)(s.h3,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/docs/usage",children:"usage"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"/docs/uses",children:"uses"})}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);